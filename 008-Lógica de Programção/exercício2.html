<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
    </style>
</head>

<body>
    <div>
        <label for="idNome">Insira as nome.</label>
        <input type="text" id="idNome" name="nmNome">

        <label for="idIdade">Insira a idade.</label>
        <input type="number" id="idIdade" name="nmIdade">
    </div>
    <div>
        <input type="button" value="Inserir" id="idInserir">
    </div>
    <div>
        <input type="button" value="Verificar" id="idVerificar">
    </div>
    <div>
        <table>
            <thead>
                <tr>
                    <th colspan="2">Menores de idade</th>
                </tr>
                <tr>
                    <td>Nome</td>
                    <td>Idade</td>
                </tr>
            </thead>
            <tbody id="idTbody">
            </tbody>
        </table>
    </div>

    <script>
        const pessoas = []

        // Inserir nome e idade em objeto
        var inserir = document.querySelector("#idInserir")
        inserir.addEventListener("click", tratamentoinserir)

        function tratamentoinserir() {
            const nome = document.querySelector("#idNome").value
            const idade = Number(document.querySelector("#idIdade").value)
            if (nome == "" || idade == "") {
                alert("Preenncha todos os campos")
            } else {
                const pessoa = {
                    nome: nome,
                    idade: idade
                }
    
                pessoas.push(pessoa)
                console.log(pessoas)
                document.querySelector("#idNome").value = ""
                document.querySelector("#idIdade").value = ""
            }
        }

        // Verificar maioridade
        var verificar = document.querySelector("#idVerificar")
        verificar.addEventListener("click", tratamentoverificar)

        function tratamentoverificar() {
            const maiores18 = pessoas.filter((pessoa) => pessoa.idade < 18);
            console.log(maiores18);

            // Colocar em uma tebela
            let tbody = document.querySelector("#idTbody")
            tbody.innerHTML = ""
            maiores18.forEach(element => {
                let nomeTd = element.nome
                let idadeTd = element.idade

                let tr = document.createElement("tr")
                let td1 = document.createElement("td")
                let td2 = document.createElement("td")

                td1.innerText = nomeTd
                td2.innerText = idadeTd
                
                tbody.appendChild(tr)
                tr.appendChild(td1)
                tr.appendChild(td2)
            });

        }

    </script>
</body>

</html>